!function(){"use strict";var e=window.wp.element,t=(window.React,window.lodash),n=window.wp.components,s=window.wp.i18n,a=window.wp.coreData,r=window.wp.data,o=o=>{var l,i;const{name:u,option:d,value:c}=o.attrs,[m,p]=(0,e.useState)(null!==(l=JSON.parse(c))&&void 0!==l?l:"[]"),{usersList:w}=(0,r.useSelect)((e=>{const{getEntityRecords:t}=e(a.store);return{usersList:t("root","user",{per_page:-1,context:"view"})}}),[m]),g=null!==(i=null==w?void 0:w.reduce(((e,t)=>({...e,[t.name]:t})),{}))&&void 0!==i?i:{};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.FormTokenField,{key:d,label:(0,s.__)("Select Users","gatherpress"),name:u,value:m&&m.map((e=>({id:e.id,slug:e.slug,value:e.name||e.value}))),suggestions:Object.keys(g),onChange:e=>{if(e.some((e=>"string"==typeof e&&!g[e])))return;const n=e.map((e=>"string"==typeof e?g[e]:e));if((0,t.includes)(n,null))return!1;p(n)},maxSuggestions:20}),(0,e.createElement)("input",{type:"hidden",id:d,name:u,value:m&&JSON.stringify(m.map((e=>({id:e.id,slug:e.slug,value:e.name||e.value}))))}))};const l=document.querySelectorAll('[data-gp_component_name="user-select"]');for(let t=0;t<l.length;t++){const n=JSON.parse(l[t].dataset.gp_component_attrs);(0,e.render)((0,e.createElement)(o,{attrs:n}),l[t])}}();