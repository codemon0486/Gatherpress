(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,n=(window.React,window.ReactDOM);var r=e.n(n);const a=window.lodash,o=window.wp.components,s=window.wp.i18n,l=window.wp.coreData,u=window.wp.data,i=e=>{var n,r;const{name:i,option:d,value:c}=e.attrs,[p,m]=(0,t.useState)(null!==(n=JSON.parse(c))&&void 0!==n?n:"[]"),{usersList:w}=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(l.store);return{usersList:t("root","user",{per_page:-1,context:"view"})}}),[p]),g=null!==(r=w?.reduce(((e,t)=>({...e,[t.name]:t})),{}))&&void 0!==r?r:{};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.FormTokenField,{key:d,label:(0,s.__)("Select Users","gatherpress"),name:i,value:p&&p.map((e=>({id:e.id,slug:e.slug,value:e.name||e.value}))),suggestions:Object.keys(g),onChange:e=>{if(e.some((e=>"string"==typeof e&&!g[e])))return;const t=e.map((e=>"string"==typeof e?g[e]:e));if((0,a.includes)(t,null))return!1;m(t)},maxSuggestions:20}),(0,t.createElement)("input",{type:"hidden",id:d,name:i,value:p&&JSON.stringify(p.map((e=>({id:e.id,slug:e.slug,value:e.name||e.value}))))}))},d=document.querySelectorAll('[data-gp_component_name="user-select"]');for(let e=0;e<d.length;e++){const n=JSON.parse(d[e].dataset.gp_component_attrs);r().render((0,t.createElement)(i,{attrs:n}),d[e])}})();