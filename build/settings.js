!function(){"use strict";var e=window.wp.element,t=(window.React,window.lodash),n=window.wp.components,r=window.wp.i18n,l=window.wp.coreData,a=window.wp.data,s=s=>{var o,i;const{name:u,option:d,value:p,fieldOptions:c}=s.attrs,[m,g]=(0,e.useState)(null!==(o=JSON.parse(p))&&void 0!==o?o:"[]"),{contentList:v}=(0,a.useSelect)((e=>{const{getEntityRecords:t}=e(l.store);return{contentList:t("user"!==c.type?"postType":"root",c.type||"post",{per_page:-1,context:"view"})}}),[m]),y=null!==(i=null==v?void 0:v.reduce(((e,t)=>{var n;return{...e,[(null===(n=t.title)||void 0===n?void 0:n.rendered)||t.name]:t}}),{}))&&void 0!==i?i:{};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.FormTokenField,{key:d,label:c.label||(0,r.__)("Select Posts","gatherpress"),name:u,value:m&&m.map((e=>{var t;return{id:e.id,slug:e.slug,value:(null===(t=e.title)||void 0===t?void 0:t.rendered)||e.name||e.value}})),suggestions:Object.keys(y),onChange:e=>{if(e.some((e=>"string"==typeof e&&!y[e])))return;const n=e.map((e=>"string"==typeof e?y[e]:e));if((0,t.includes)(n,null))return!1;g(n)},maxSuggestions:c.max_suggestions||20,maxLength:c.limit||0}),(0,e.createElement)("input",{type:"hidden",id:d,name:u,value:m&&JSON.stringify(m.map((e=>{var t;return{id:e.id,slug:e.slug,value:(null===(t=e.title)||void 0===t?void 0:t.rendered)||e.name||e.value}})))}))},o=s=>{var o,i;const{name:u,option:d,value:p,fieldOptions:c}=s.attrs,[m,g]=(0,e.useState)(null!==(o=JSON.parse(p))&&void 0!==o?o:"[]"),{usersList:v}=(0,a.useSelect)((e=>{const{getEntityRecords:t}=e(l.store);return{usersList:t("root","user",{per_page:-1,context:"view"})}}),[m]),y=null!==(i=null==v?void 0:v.reduce(((e,t)=>({...e,[t.name]:t})),{}))&&void 0!==i?i:{};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.FormTokenField,{key:d,label:(0,r.__)("Select Users","gatherpress"),name:u,value:m&&m.map((e=>({id:e.id,slug:e.slug,value:e.name||e.value}))),suggestions:Object.keys(y),onChange:e=>{if(e.some((e=>"string"==typeof e&&!y[e])))return;const n=e.map((e=>"string"==typeof e?y[e]:e));if((0,t.includes)(n,null))return!1;g(n)},maxSuggestions:20,maxLength:c.limit||0}),(0,e.createElement)("input",{type:"hidden",id:d,name:u,value:m&&JSON.stringify(m.map((e=>({id:e.id,slug:e.slug,value:e.name||e.value}))))}))},i=s=>{var o,i;const{name:u,option:d,value:p,fieldOptions:c}=s.attrs,[m,g]=(0,e.useState)(null!==(o=JSON.parse(p))&&void 0!==o?o:"[]"),{pagesList:v}=(0,a.useSelect)((e=>{const{getEntityRecords:t}=e(l.store);return{pagesList:t("postType","page",{per_page:-1,context:"view"})}}),[m]),y=null!==(i=null==v?void 0:v.reduce(((e,t)=>({...e,[t.title.rendered]:t})),{}))&&void 0!==i?i:{};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.FormTokenField,{key:d,label:(0,r.__)("Select Pages","gatherpress"),name:u,value:m&&m.map((e=>{var t;return{id:e.id,slug:e.slug,value:(null===(t=e.title)||void 0===t?void 0:t.rendered)||e.value}})),suggestions:Object.keys(y),onChange:e=>{if(e.some((e=>"string"==typeof e&&!y[e])))return;const n=e.map((e=>"string"==typeof e?y[e]:e));if((0,t.includes)(n,null))return!1;g(n)},maxSuggestions:20,maxLength:c.limit||0}),(0,e.createElement)("input",{type:"hidden",id:d,name:u,value:m&&JSON.stringify(m.map((e=>{var t;return{id:e.id,slug:e.slug,value:(null===(t=e.title)||void 0===t?void 0:t.rendered)||e.value}})))}))};const u=document.querySelectorAll('[data-gp_component_name="autocomplete"]');for(let t=0;t<u.length;t++){const n=JSON.parse(u[t].dataset.gp_component_attrs);(0,e.render)((0,e.createElement)(s,{attrs:n}),u[t])}const d=document.querySelectorAll('[data-gp_component_name="user-select"]');for(let t=0;t<d.length;t++){const n=JSON.parse(d[t].dataset.gp_component_attrs);(0,e.render)((0,e.createElement)(o,{attrs:n}),d[t])}const p=document.querySelectorAll('[data-gp_component_name="page-select"]');for(let t=0;t<p.length;t++){const n=JSON.parse(p[t].dataset.gp_component_attrs);(0,e.render)((0,e.createElement)(i,{attrs:n}),p[t])}}();